<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record id="user_info_search" model="ir.ui.view">
      <field name="name">user.info.search</field>
      <field name="model">user.info</field>
      <field name="arch" type="xml">
        <search position="inside">
          <searchpanel>
            <field name="user_info_department_id" icon="fa fa-building" enable_counters="1" select="multi"/>
            <field name="user_info_major_id" icon="fa fa-graduation-cap" enable_counters="1" select="multi"/>
            <field name="user_info_class_id" icon="fa fa-users" enable_counters="1" select="multi"/>
          </searchpanel>
        </search>
      </field>
    </record>

    <record id="user_info_action" model="ir.actions.act_window">
      <field name="name">User Information</field>
      <field name="res_model">user.info</field>
      <field name="view_mode">tree,form</field>
    </record>

    <!-- Form View -->
    <record id="user_info_view_form" model="ir.ui.view">
      <field name="name">user.info.form</field>
      <field name="model">user.info</field>
      <field name="arch" type="xml">
        <form >
          <sheet>
            <group string="Basic">
              <group >
                <field name="avatar" widget="image" options="{'size': (128, 128)}" class="oe_avatar" />
              </group>
              <group>
                <group>
                  <field name="user_id" invisible="1"/>
                  <field name="first_name" placeholder="'Nguyễn Văn A' thì điền 'Nguyễn Văn'" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"/>
                  <field name="sur_name" placeholder="'Nguyễn Văn A' thì điền 'A'" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"/>
                  <field name="name" groups="base.user_admin" />
                </group>
                <group >
                  <field name="gender" required="1" placeholder="Vui lòng chọn" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"/>
                  <field name="birth_date" required="1" placeholder="Vui lòng chọn" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"/>
                </group>
              </group>
              
              <group groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian">
                <field name="phone_number" required="1" placeholder="Vui lòng điền"/>
                <field name="personal_email" required="1" placeholder="Vui lòng điền"/>
              </group>
              <group>
                <field name="religion" placeholder="Vui lòng chọn" />
                <field name="ethnicity" placeholder="Vui lòng chọn"/>
              </group>
            </group>
            <group>
              <group string="National Info" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian">
                <field name="national_id" required="1" placeholder="Vui lòng điền" />
                <field name="national" placeholder="Vui lòng chọn" />
                <field name="province_id_native" placeholder="Vui lòng chọn" 
                  attrs="{'invisible': [('national', '!=', '2')]}"
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                 
                />
                <field name="district_id_native" placeholder="Vui lòng chọn" 
                  domain="[('province_id', '=', province_id_native)]" 
                  attrs="{'invisible': [('national', '!=', '2')]}" 
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
               
                />
                <field name="ward_id_native" placeholder="Vui lòng chọn" 
                  domain="[('district_id', '=', district_id_native)]"  
                  attrs="{'invisible': [('national', '!=', '2')]}"
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                />
                <field name="native_address_specific" placeholder="Số nhà, Tên đường" />
              </group>
              <group string="Permanent address" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian">
                <field name="province_id_permanent" placeholder="Vui lòng chọn" 
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                />
                <field name="district_id_permanent"  placeholder="Vui lòng chọn" 
                  domain="[('province_id', '=', province_id_permanent)]"
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                />
                <field name="ward_id_permanent" placeholder="Vui lòng chọn"
                  domain="[('district_id', '=', district_id_permanent)]"  
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                />
                <field name="permanent_address_specific" placeholder="Số nhà, Tên đường"/>
              </group>
            </group>
            <!-- <group > -->
              <group string="Student info">
                <field name="student_id" required="1" placeholder="Vui lòng điền" groups="manage_user_info.group_hcmut_user"/>
                <field name="falcutian_id" required="1" placeholder="Vui lòng điền" groups="manage_user_info.group_hcmut_falcutian"/>
                <field name="year_in" invisible="1" />
                <field name="user_info_department_id" placeholder="Vui lòng chọn" required="1" 
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                  groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"
                />
                <field name="user_info_major_id" placeholder="Vui lòng chọn" required="1" 
                  domain="[('department_id', '=', user_info_department_id)]"
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
                  groups="manage_user_info.group_hcmut_user"
                />
                <field name="user_info_class_id" placeholder="Vui lòng chọn" required="1"
                  domain= "[('major_id', '=', user_info_major_id)]"
                  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}" 
                  groups="manage_user_info.group_hcmut_user"
                />
              </group>
            <!-- </group> -->
            <group>
              <group string="Communist Party">
                <field name="date_communist_party" placeholder="Vui lòng chọn" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"/>
                <field name="place_communist_party" placeholder="Vui lòng điền" groups="manage_user_info.group_hcmut_user,manage_user_info.group_hcmut_falcutian"/>
              </group>
              <group string="Youth Union">
                <field name="date_at_union" placeholder="Vui lòng chọn" groups="manage_user_info.group_hcmut_user"/>
                <field name="place_union" placeholder="Vui lòng điền" groups="manage_user_info.group_hcmut_user"/>
              </group>
              <group string="Student Association">
                <field name="date_at_student_association" placeholder="Vui lòng chọn" groups="manage_user_info.group_hcmut_user"/>
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Tree(list) View -->
    <record id="user_info_view_tree" model="ir.ui.view">
      <field name="name">user.info.tree</field>
      <field name="model">user.info</field>
      <field name="arch" type="xml">
        <tree >
          <field name="name" optional="show"/>
          <field name="email" optional="show"/>
          <field name="student_id" optional="show"/>
          <field name="phone_number" optional="hide"/>
          <field name="user_info_department_id" optional="show"/>
          <field name="user_info_major_id" optional="show"/>
          <field name="user_info_class_id" optional="show"/>
        </tree>
      </field>
    </record>
  </data>
</odoo>
