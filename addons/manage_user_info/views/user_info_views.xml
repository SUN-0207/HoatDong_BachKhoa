<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record id="user_info_search" model="ir.ui.view">
      <field name="name">user.info.search</field>
      <field name="model">user.info</field>
      <field name="arch" type="xml">
        <search position="inside">

          <searchpanel>
            <field name="user_info_department_id" icon="fa fa-building" enable_counters="1" select="multi"/>
            <field name="user_info_major_id" icon="fa fa-graduation-cap" enable_counters="1" select="multi"/>
            <field name="user_info_class_id" icon="fa fa-users" enable_counters="1" select="multi"/>
          </searchpanel>
        </search>
      </field>
    </record>


    <record id="user_info_action" model="ir.actions.act_window">
      <field name="name">User Information</field>
      <field name="res_model">user.info</field>
      <field name="view_mode">tree,form</field>
    </record>

    <!-- Form View -->
    <record id="user_info_view_form" model="ir.ui.view">
      <field name="name">user.info.form</field>
      <field name="model">user.info</field>
      <field name="arch" type="xml">
        <form >
          <!-- <header>
            <button type="action"
            string="New User"
            confirm="Do you want to create a new user?"/>
          </header> -->
          <sheet>
            <group>
              <field name="avatar" widget="image" options="{'size': (128, 128)}" class="oe_avatar"/>
              <group>
                <field name="user_id" invisible="1"/>
                <field name="first_name" />
                <field name="sur_name" />
                <field name="gender" />
                <field name="birth_date" />
              </group>
              <group >
                <field name="phone_number" />
                <field name="personal_email" />
                <field name="religion" />
                <field name="ethnicity" />
              </group>
            </group>
            <group>
              <group string="National Info">
                <field name="national_id"/>
                <field name="province_id_native" widget="selection" />
                <field name="district_id_native" 
                    widget="selection" 
                    domain="[('province_id', '=', province_id_native)]" 
                />
                <field name="ward_id_native" 
                    widget="selection"
                    domain="[('district_id', '=', district_id_native)]" 
                />
                <field name="native_address_specific" />
              </group>
              <group string="Permanent address">
                <field name="province_id_permanent" />
                <field name="district_id_permanent" 
                  widget='selection'
                  domain="[('province_id', '=', province_id_permanent)]" 
                />
                <field name="ward_id_permanent" 
                  widget='selection'
                  domain="[('district_id', '=', district_id_permanent)]" 
                />
                <field name="permanent_address_specific" />
              </group>
            </group>
            <group >
              <!-- <field name="role" invisible="[('role', '=', 'admin')]]"/> -->
              <group string="Student info" >
                <field name="student_id"/>
                <field name="user_info_department_id" widget="selection" />
                <field name="user_info_major_id" 
                  widget='selection'
                  domain="[('department_id', '=', user_info_department_id)]" 
                />
                <field name="user_info_class_id" 
                  domain="[('major_id', '=', user_info_major_id)]" 
                  widget='selection'
                />
              </group>
              <!-- <group string="Teacher info" >
                <field name="teacher_id"/>
                <field name="user_info_department_id" widget="selection" />
                <field name="user_info_major_id" 
                  widget='selection'
                  domain="[('department_id', '=', user_info_department_id)]" 
                />
              </group> -->
            </group>
            <group>
              <group string="Communist Party">
                <field name="date_communist_party" />
                <field name="place_communist_party" />
              </group>
              <group string="Youth Union">
                <field name="date_at_union" />
                <field name="place_union" />
              </group>
              <group string="Student Association">
                <field name="date_at_student_association" />
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Tree(list) View -->
    <record id="user_info_view_tree" model="ir.ui.view">
      <field name="name">user.info.tree</field>
      <field name="model">user.info</field>
      <field name="arch" type="xml">
        <tree >
          <field name="name"/>
          <field name="email" />
          <field name="student_id" />
          <field name="phone_number" optional="hide"/>
          <field name="user_info_department_id" optional="show"/>
          <field name="user_info_major_id" optional="show"/>
          <field name="user_info_class_id" />
        </tree>
      </field>
    </record>
  </data>
</odoo>
