<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <!-- Form View -->
    <record id="event_event_form_inherit" model="ir.ui.view">
      <field name="name">event.event.form.inherit</field>
      <field name="model">event.event</field>
      <field name="inherit_id" ref="event.view_event_form" />
      <field name="arch" type="xml">
        <!-- Hide fields -->
          <xpath expr="//field[@name='user_id']" position="replace"></xpath>
          <xpath expr="//field[@name='address_id']" position="replace"></xpath>
          <xpath expr="//div[hasclass('oe_chatter')]" position="replace"></xpath>
          <xpath expr="//field[@name='date_tz']" position="replace"></xpath>
          <xpath expr="//field[@name='auto_confirm']" position="replace"></xpath>
          <xpath expr="//field[@name='kanban_state']" position="replace"></xpath>
          <xpath expr="//page[@name='event_notes']" position="replace"></xpath>
        <!-- End Hide fields -->
          
        <!-- Change name -->
        <xpath expr="//label[@for='name']" position="replace">
          <label for="name" string="Ten hoat dong"/>
        </xpath> 
        <xpath expr="//label[@for='date_begin']" position="replace">
          <label for="date_begin" string="Diễn ra"/>
        </xpath> 
        <xpath expr="//field[@name='event_type_id']" position="replace">
          <field name="event_type_id" string="Nhom hoat dong" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"/>
        </xpath> 
        <xpath expr="//field[@name='tag_ids']" position="replace">
          <field name="tag_ids" string="Ý nghĩa hoạt động" widget="many2many_tags" options="{'color_field': 'color', 'no_quick_create': True}"/>
        </xpath>
        <xpath expr="//label[@for='seats_limited']" position="replace">
          <label for="seats_limited" string="Dang ky toi da"/>
        </xpath> 
        <!-- End Change name -->
        
        <!-- Add fields-->
        <xpath expr="//field[@name='tag_ids']" position="after">
          <field name="max_social_point" />
          <field name="max_tranning_point" />
        </xpath>
        <xpath expr="//div[hasclass('oe_title')]" position="after">
          <h3>Mo ta hoat dong </h3>
          <field name="description" widget="html"/>
          <div name="event_menu_configuration" >
            <label for="is_for_all_students" string="All students "/>
            <field name="is_for_all_students"/>
            <label for="is_maximize_department" string="is_maximize_department"  attrs="{'invisible': [('is_for_all_students', '=', True)]}"/>
            <field name="is_maximize_department"  attrs="{'invisible': [('is_for_all_students', '=', True)]}"/>
            <label for="is_maximize_major" string="is_maximize_major" attrs="{'invisible': [('is_for_all_students', '=', True)]}"/>
            <field name="is_maximize_major"  attrs="{'invisible': [('is_for_all_students', '=', True)]}"/>
            <label for="is_maximize_year" string="is_maximize_year" attrs="{'invisible': [('is_for_all_students', '=', True)]}"/>
            <field name="is_maximize_year"  attrs="{'invisible': [('is_for_all_students', '=', True)]}"/>
          </div>
        </xpath>
        <xpath  expr="//notebook" position="before">
          <div class="o_row">
            <label for='attach_file' string="Giay to lien quan"/>
            <field name="attach_file" widget="many2many_binary" />
          </div>
        </xpath>
        <!-- End Add fields-->
        
        <!-- Replace fields-->
        <xpath expr="//field[@name='organizer_id']" position="replace">
          <field name="created_by_name" readonly="1" />
          <field name="activity_manager" widget="many2many_tags" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"/>
          <field name="department_can_register" widget="many2many_tags" 
              options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
              attrs="{'invisible': [('is_maximize_department', '=', False)]}"
          />
          <field name="major_can_register" widget="many2many_tags" 
              options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
              domain="[('department_id', '=', department_can_register)]"
              attrs="{
              'invisible': [('is_maximize_major', '=', False)],
              }"
          />
          <field name="year_can_register" widget="many2many_tags" 
            options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}"
            attrs="{'invisible': [('is_maximize_year', '=', False)]}"
          />
   
        </xpath>
        
        <xpath expr="//label[@for='date_begin']" position="before">
          <field name="auto_confirm" string="Tu dong duyet"/>
          <label for="date_begin_registration" string="Đăng ký"/>
          <div class="o_row">
            <field name="date_begin_registration" widget="daterange" nolabel="1" class="oe_inline" options="{'related_end_date': 'date_end_registration'}"/>
            <i class="fa fa-long-arrow-right mx-2" aria-label="Arrow icon" title="Arrow"/>
            <field name="date_end_registration" widget="daterange" nolabel="1" class="oe_inline" options="{'related_start_date': 'date_begin'}"/>
          </div>
        </xpath>
        
        <!-- End Replace fields-->
      </field>
    </record>

  </data>
</odoo>
